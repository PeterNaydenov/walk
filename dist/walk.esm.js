function e(e){return null==e||e.nodeType?"simple":e instanceof Array?"array":"object"==typeof e?"object":"simple"}function r(r,a,n,o,c,...s){let[i,u]=o;Object.keys(r).forEach((l=>{let f=e(r[l]),b=r[l],y="array"===e(a),p=!isNaN(l),k=Symbol("ignore___");if("simple"!==f&&u){if(b=u({value:b,key:l,breadcrumbs:`${c}/${l}`,IGNORE:k},...s),b===k)return;f=e(b)}if("simple"===f){if(!i)return void(a[l]=b);let e=i({value:b,key:l,breadcrumbs:`${c}/${l}`,IGNORE:k},...s);if(e===k)return;const r=function(e,r){return r instanceof Array&&!isNaN(e)}(l,a);r?a.push(e):a[l]=e}if("object"===f){const e={};y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${c}/${l}`,s))}if("array"===f){const e=[];y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${c}/${l}`,s))}}))}function*t(e,t,a,n,o,c){yield r(e,t,a,n,o,...c)}function a({data:t,keyCallback:a,objectCallback:n},...o){let c,s=[],i="root",u=[a,n];switch(e(t)){case"array":c=[],r(t,c,s,u,i,...o);break;case"object":c={},r(t,c,s,u,i,...o);break;case"simple":return t}for(const e of s)e.next();return c}export{a as default};
