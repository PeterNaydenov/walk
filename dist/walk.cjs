"use strict";function e(e){return null==e||e.nodeType?"simple":e instanceof Array?"array":"object"==typeof e?"object":"simple"}function r(r,a,n,o,s,...c){let[i,u]=o;Object.keys(r).forEach((l=>{let f=e(r[l]),b=r[l],y="array"===e(a),p=!isNaN(l),m=Symbol("ignore___");if("simple"!==f&&u){if(b=u({value:b,key:l,breadcrumbs:`${s}/${l}`,IGNORE:m},...c),b===m)return;f=e(b)}if("simple"===f){if(!i)return void(a[l]=b);let e=i({value:b,key:l,breadcrumbs:`${s}/${l}`,IGNORE:m},...c);if(e===m)return;const r=function(e,r){return r instanceof Array&&!isNaN(e)}(l,a);r?a.push(e):a[l]=e}if("object"===f){const e={};y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${s}/${l}`,c))}if("array"===f){const e=[];y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${s}/${l}`,c))}}))}function*t(e,t,a,n,o,s){yield r(e,t,a,n,o,...s)}module.exports=function({data:t,keyCallback:a,objectCallback:n},...o){let s,c=[],i="root",u=[a,n];switch(e(t)){case"array":s=[],r(t,s,c,u,i,...o);break;case"object":s={},r(t,s,c,u,i,...o);break;case"simple":return t}for(const e of c)e.next();return s};
